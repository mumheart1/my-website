<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AI Cow Sim</title>
  <style>
    canvas {
      image-rendering: pixelated;
      background: #444;
      display: block;
      margin: auto;
    }
  </style>
</head>
<body>
<canvas id="game" width="128" height="128"></canvas>
<script>
const canvas = document.getElementById('game');
const ctx = canvas.getContext('2d');
const TILE_SIZE = 8;
const MAP_SIZE = 16;const TILE = { EMPTY: 0, GRASS: 1, WATER: 2, WALL: 3, WOLF: 4 };

const COLORS = [ '#444', // Empty '#4CAF50', // Grass '#2196F3', // Water '#795548', // Wall '#FF0000'  // Wolf ];

let map = []; let cow = { x: 1, y: 1, score: 0 };

function generateMap() { map = []; for (let y = 0; y < MAP_SIZE; y++) { let row = []; for (let x = 0; x < MAP_SIZE; x++) { let rand = Math.random(); if (rand < 0.1) row.push(TILE.WALL); else if (rand < 0.2) row.push(TILE.WATER); else if (rand < 0.3) row.push(TILE.WOLF); else if (rand < 0.7) row.push(TILE.GRASS); else row.push(TILE.EMPTY); } map.push(row); } map[cow.y][cow.x] = TILE.EMPTY; // Clear cow spawn }

generateMap();

function drawMap() { for (let y = 0; y < MAP_SIZE; y++) { for (let x = 0; x < MAP_SIZE; x++) { ctx.fillStyle = COLORS[map[y][x]]; ctx.fillRect(x * TILE_SIZE, y * TILE_SIZE, TILE_SIZE, TILE_SIZE); } } // Draw cow ctx.fillStyle = '#FFFFFF'; ctx.fillRect(cow.x * TILE_SIZE, cow.y * TILE_SIZE, TILE_SIZE, TILE_SIZE); }

function sense(x, y) { // Get tile type or wall if out of bounds if (x < 0 || y < 0 || x >= MAP_SIZE || y >= MAP_SIZE) return TILE.WALL; return map[y][x]; }

function updateCow() { // Get surroundings const up = sense(cow.x, cow.y - 1); const down = sense(cow.x, cow.y + 1); const left = sense(cow.x - 1, cow.y); const right = sense(cow.x + 1, cow.y);

const choices = [up, down, left, right]; const dir = choices.map((val, i) => { // Reward grass, avoid wolf, ignore walls if (val === TILE.GRASS) return 2; if (val === TILE.WATER) return 1.5; if (val === TILE.WOLF) return -3; if (val === TILE.WALL) return -2; return 0; });

// Pick best direction let best = dir.indexOf(Math.max(...dir));

if (best === 0) cow.y--; if (best === 1) cow.y++; if (best === 2) cow.x--; if (best === 3) cow.x++;

// Clamp position cow.x = Math.max(0, Math.min(MAP_SIZE - 1, cow.x)); cow.y = Math.max(0, Math.min(MAP_SIZE - 1, cow.y));

// Eat grass or drink water const tile = sense(cow.x, cow.y); if (tile === TILE.GRASS || tile === TILE.WATER) { cow.score++; map[cow.y][cow.x] = TILE.EMPTY; } else if (tile === TILE.WOLF) { cow.score = 0; cow.x = 1; cow.y = 1; generateMap(); } }

function gameLoop() { updateCow(); drawMap(); requestAnimationFrame(gameLoop); }

gameLoop(); </script>

</body>
</html>
